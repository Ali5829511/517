# ุฏููู ุงูุชุทููุฑ - Development Guide

## ูุธุงู ุฅุฏุงุฑุฉ ุงูุฅุณูุงู ุงูุฌุงูุนู

ูุฐุง ุงูุฏููู ููุฌู ูููุทูุฑูู ุงูุฐูู ูุฑูุฏูู ุงููุณุงููุฉ ูู ุชุทููุฑ ุงููุดุฑูุน ุฃู ุชุนุฏููู.

---

## ๐ ุงููุชุทูุจุงุช - Requirements

### ุงูุจุฑูุฌูุงุช ุงูุฃุณุงุณูุฉ
- **Python 3.11+** (ููุฎุชุจุฑ ุนูู 3.11 ู 3.12)
- **pip** (ูุฏูุฑ ุญุฒู Python)
- **git** (ููุชุญูู ุจุงูุฅุตุฏุงุฑุงุช)
- **SQLite3** (ูุถูู ูุน Python)

### ุงุฎุชูุงุฑู ููุชุทููุฑ
- **virtualenv** ุฃู **venv** (ุจูุฆุฉ ุงูุชุฑุงุถูุฉ)
- **VS Code** ุฃู ุฃู ูุญุฑุฑ ูุตูุต
- **Postman** ุฃู **curl** (ูุงุฎุชุจุงุฑ APIs)

---

## ๐ ุฅุนุฏุงุฏ ุจูุฆุฉ ุงูุชุทููุฑ - Development Setup

### 1. ุงุณุชูุณุงุฎ ุงููุณุชูุฏุน
```bash
git clone https://github.com/Ali5829511/517.git
cd 517
```

### 2. ุฅูุดุงุก ุจูุฆุฉ ุงูุชุฑุงุถูุฉ (ููุตู ุจู)
```bash
# ุนูู Linux/Mac
python3 -m venv venv
source venv/bin/activate

# ุนูู Windows
python -m venv venv
venv\Scripts\activate
```

### 3. ุชุซุจูุช ุงูุญุฒู ุงููุทููุจุฉ
```bash
pip install -r requirements.txt
```

### 4. ุชุซุจูุช ุฃุฏูุงุช ุงูุชุทููุฑ
```bash
pip install pytest pytest-cov black flake8 pylint
```

### 5. ุฅุนุฏุงุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ
```bash
# ุฅูุดุงุก ููู .env
echo "OPENAI_API_KEY=your-api-key-here" > .env
echo "FLASK_ENV=development" >> .env
echo "FLASK_DEBUG=1" >> .env
```

### 6. ุชุดุบูู ุงูุชุทุจูู ูู ูุถุน ุงูุชุทููุฑ
```bash
# ุจุงุณุชุฎุฏุงู Makefile
make dev

# ุฃู ูุจุงุดุฑุฉ
python app.py
```

ุงูุขู ููููู ุงููุตูู ููุชุทุจูู ุนูู: http://localhost:5000

---

## ๐จ ุฃูุงูุฑ ุงูุชุทููุฑ - Development Commands

### ุงุณุชุฎุฏุงู Makefile

```bash
# ุชุซุจูุช ุงูุญุฒู
make install

# ุชุดุบูู ุงูุชุทุจูู ูู ูุถุน ุงูุชุทููุฑ
make dev

# ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช
make test

# ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช ูุน ุชุบุทูุฉ ุงูููุฏ
make test-cov

# ูุญุต ุฌูุฏุฉ ุงูููุฏ
make lint

# ุชูุณูู ุงูููุฏ
make format

# ุจูุงุก ุงูุชุทุจูู ููุฅูุชุงุฌ
make build

# ุชูุธูู ุงููููุงุช ุงููุคูุชุฉ
make clean

# ุนุฑุถ ุฌููุน ุงูุฃูุงูุฑ ุงููุชุงุญุฉ
make help
```

---

## ๐งช ุงูุงุฎุชุจุงุฑุงุช - Testing

### ุชุดุบูู ุฌููุน ุงูุงุฎุชุจุงุฑุงุช
```bash
pytest
```

### ุชุดุบูู ุงุฎุชุจุงุฑุงุช ูุญุฏุฏุฉ
```bash
pytest test_app.py
pytest test_app.py::test_app_exists
```

### ููุงุณ ุชุบุทูุฉ ุงูููุฏ
```bash
pytest --cov=. --cov-report=html
# ุซู ุงูุชุญ htmlcov/index.html ูู ุงููุชุตูุญ
```

### ุฅุถุงูุฉ ุงุฎุชุจุงุฑุงุช ุฌุฏูุฏุฉ
- ุฃูุดุฆ ููู ุฌุฏูุฏ ุจุตูุบุฉ `test_*.py`
- ุงุณุชุฎุฏู pytest fixtures ููุฅุนุฏุงุฏ ุงููุดุชุฑู
- ุงุชุจุน ููุท ุงูุงุฎุชุจุงุฑุงุช ุงูููุฌูุฏุฉ

---

## ๐ ูููู ุงููุดุฑูุน - Project Structure

```
517/
โโโ app.py                      # ุงูุชุทุจูู ุงูุฑุฆูุณู
โโโ database_api.py             # ูุงุฌูุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช
โโโ generate_database.py        # ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช
โโโ generate_reports.py         # ุชูููุฏ ุงูุชูุงุฑูุฑ
โโโ requirements.txt            # ุญุฒู Python ุงููุทููุจุฉ
โโโ Makefile                    # ุฃูุงูุฑ ุงูุชุทููุฑ ูุงูุจูุงุก
โโโ .env.example               # ูุซุงู ุนูู ููู ุงูุจูุฆุฉ
โโโ housing_database.db         # ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุฑุฆูุณูุฉ
โโโ static/                     # ุงููููุงุช ุงูุซุงุจุชุฉ (HTML, CSS, JS)
โ   โโโ index.html
โ   โโโ login.html
โ   โโโ ...
โโโ uploads/                    # ุงูุตูุฑ ุงููุฑููุนุฉ
โโโ processed_images/           # ุงูุตูุฑ ุงููุนุงูุฌุฉ
โโโ test_app.py                # ููู ุงูุงุฎุชุจุงุฑุงุช

ุงููููุงุช ุงูุชูุซูููุฉ:
โโโ README.md                   # ุงูุฏููู ุงูุฑุฆูุณู
โโโ DEVELOPMENT.md              # ุฏููู ุงูุชุทููุฑ (ูุฐุง ุงูููู)
โโโ DEPLOYMENT_GUIDE.md         # ุฏููู ุงููุดุฑ
โโโ QUICK_START.md              # ุฏููู ุงูุจุฏุก ุงูุณุฑูุน
โโโ PROJECT_STATUS.md           # ุญุงูุฉ ุงููุดุฑูุน
โโโ FEATURES_IMPLEMENTATION.md  # ุชูุงุตูู ุงูููุฒุงุช
```

---

## ๐ง ุงูุชุทููุฑ - Development Workflow

### 1. ุฅูุดุงุก ูุฑุน ุฌุฏูุฏ
```bash
git checkout -b feature/feature-name
```

### 2. ุฅุฌุฑุงุก ุงูุชุนุฏููุงุช
- ุนุฏูู ุงูููุฏ ุญุณุจ ุงูุญุงุฌุฉ
- ุงุฎุชุจุฑ ุงูุชุนุฏููุงุช ุจุงุณุชูุฑุงุฑ
- ุชุฃูุฏ ูู ุฌูุฏุฉ ุงูููุฏ

### 3. ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช
```bash
make test
make lint
```

### 4. ุญูุธ ุงูุชุบููุฑุงุช
```bash
git add .
git commit -m "ูุตู ูุงุถุญ ููุชุบููุฑุงุช"
```

### 5. ุฑูุน ุงูุชุบููุฑุงุช
```bash
git push origin feature/feature-name
```

### 6. ุฅูุดุงุก Pull Request
- ุงุฐูุจ ุฅูู GitHub
- ุฃูุดุฆ Pull Request ูู ูุฑุนู
- ุฃุถู ูุตูุงู ูุงุถุญุงู ููุชุบููุฑุงุช

---

## ๐จ ูุนุงููุฑ ุงูุจุฑูุฌุฉ - Coding Standards

### Python Style Guide
- ุงุชุจุน **PEP 8** ูุชูุณูู ุงูููุฏ
- ุงุณุชุฎุฏู **Black** ููุชูุณูู ุงูุชููุงุฆู: `make format`
- ุงุณุชุฎุฏู **Flake8** ูููุญุต: `make lint`
- ุฃูุตู ุทูู ููุณุทุฑ: 100 ุญุฑู

### ุงูุชุณููุงุช
- **ุงููุฆุงุช (Classes):** `CamelCase`
- **ุงูุฏูุงู (Functions):** `snake_case`
- **ุงูุซูุงุจุช (Constants):** `UPPER_SNAKE_CASE`
- **ุงููุชุบูุฑุงุช (Variables):** `snake_case`

### ุงูุชุนูููุงุช ูุงูุชูุซูู
- ุงุณุชุฎุฏู docstrings ููุฏูุงู ูุงููุฆุงุช
- ุนููู ุนูู ุงูููุฏ ุงููุนูุฏ ููุท
- ุงุณุชุฎุฏู ุงูุนุฑุจูุฉ ุฃู ุงูุฅูุฌููุฒูุฉ ุจุซุจุงุช

### ูุซุงู ุนูู ุฏุงูุฉ ููุซูุฉ:
```python
def calculate_parking_fee(hours, rate=10):
    """
    ุญุณุงุจ ุฑุณูู ูููู ุงูุณูุงุฑุงุช
    
    Args:
        hours (int): ุนุฏุฏ ุงูุณุงุนุงุช
        rate (int): ุงูุณุนุฑ ููู ุณุงุนุฉ (ุงูุชุฑุงุถู: 10)
    
    Returns:
        int: ุฅุฌูุงูู ุงูุฑุณูู
    """
    return hours * rate
```

---

## ๐ ุชุตุญูุญ ุงูุฃุฎุทุงุก - Debugging

### ุชูุนูู ูุถุน Debug
```bash
export FLASK_DEBUG=1
python app.py
```

### ุงุณุชุฎุฏุงู Python Debugger
```python
import pdb; pdb.set_trace()
```

### ูุญุต ุงูุณุฌูุงุช (Logs)
```bash
# ุนุฑุถ ุขุฎุฑ 50 ุณุทุฑ ูู ุงูุณุฌูุงุช
tail -f -n 50 app.log
```

---

## ๐ ุงูุฃูุงู - Security

### ุฃูุถู ุงูููุงุฑุณุงุช
1. **ูุง ุชุถู ููุงุชูุญ API** ุฅูู Git
2. ุงุณุชุฎุฏู **ูุชุบูุฑุงุช ุงูุจูุฆุฉ** ููุจูุงูุงุช ุงูุญุณุงุณุฉ
3. **ูุง ุชุนุทู CSRF protection** ูู ุงูุฅูุชุงุฌ
4. ุงุณุชุฎุฏู **HTTPS** ูู ุงูุฅูุชุงุฌ
5. **ูุธูู ุงููุฏุฎูุงุช** ูู ุงููุณุชุฎุฏููู

### ูุญุต ุงูุซุบุฑุงุช ุงูุฃูููุฉ
```bash
pip install safety
safety check
```

---

## ๐ ูุงุนุฏุฉ ุงูุจูุงูุงุช - Database

### ูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **residents:** ุจูุงูุงุช ุงูุณูุงู
- **buildings:** ุจูุงูุงุช ุงููุจุงูู
- **residential_units:** ุงููุญุฏุงุช ุงูุณูููุฉ
- **stickers:** ููุตูุงุช ุงูุณูุงุฑุงุช
- **parking_spots:** ููุงูู ุงูุณูุงุฑุงุช

### ุฅุนุงุฏุฉ ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช
```bash
python generate_database.py
```

### ูุญุต ูุงุนุฏุฉ ุงูุจูุงูุงุช
```bash
sqlite3 housing_database.db
sqlite> .tables
sqlite> SELECT COUNT(*) FROM residents;
sqlite> .quit
```

### ูุณุฎุฉ ุงุญุชูุงุทูุฉ
```bash
cp housing_database.db housing_database.backup.db
```

---

## ๐ API Endpoints

### ูุงุฆูุฉ APIs ุงููุชุงุญุฉ

| Endpoint | Method | Description |
|----------|--------|-------------|
| `/` | GET | ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ |
| `/login` | GET, POST | ุชุณุฌูู ุงูุฏุฎูู |
| `/api/residents` | GET | ูุงุฆูุฉ ุงูุณูุงู |
| `/api/buildings` | GET | ูุงุฆูุฉ ุงููุจุงูู |
| `/api/stickers` | GET | ูุงุฆูุฉ ุงูููุตูุงุช |
| `/api/parking` | GET | ูุงุฆูุฉ ุงูููุงูู |
| `/api/statistics` | GET | ุฅุญุตุงุฆูุงุช ุนุงูุฉ |
| `/api/search` | POST | ุงูุจุญุซ ูู ุงููุธุงู |

### ุงุฎุชุจุงุฑ APIs
```bash
# ุงุณุชุฎุฏุงู curl
curl http://localhost:5000/api/statistics

# ุงุณุชุฎุฏุงู httpie (ุฃูุถู)
pip install httpie
http GET http://localhost:5000/api/statistics
```

---

## ๐ข ุงูุฅูุชุงุฌ - Production

### ุจูุงุก ููุฅูุชุงุฌ
```bash
make build
```

### ุงุฎุชุจุงุฑ ุงูุฅูุชุงุฌ ูุญููุงู
```bash
gunicorn app:app --bind 0.0.0.0:8000
```

### ุงููุดุฑ
ุฑุงุฌุน ููู `DEPLOYMENT_GUIDE.md` ููุชูุงุตูู ุงููุงููุฉ

---

## ๐ ุงูููุงุฑุฏ - Resources

### ุงูุชูุซูู ุงูุฑุณูู
- [Flask Documentation](https://flask.palletsprojects.com/)
- [SQLite Documentation](https://www.sqlite.org/docs.html)
- [Python Documentation](https://docs.python.org/3/)

### ุฃุฏูุงุช ูููุฏุฉ
- [Postman](https://www.postman.com/) - ุงุฎุชุจุงุฑ APIs
- [DB Browser for SQLite](https://sqlitebrowser.org/) - ุนุฑุถ ูุงุนุฏุฉ ุงูุจูุงูุงุช
- [VS Code](https://code.visualstudio.com/) - ูุญุฑุฑ ุงูููุฏ

---

## ๐ ุงูุฏุนู ูุงููุณุงุนุฏุฉ

### ุงูุฅุจูุงุบ ุนู ูุดููุฉ
1. ุงูุชุญ issue ุนูู GitHub
2. ุตู ุงููุดููุฉ ุจูุถูุญ
3. ุฃุฑูู ููุทุฉ ุดุงุดุฉ ุฅู ุฃููู
4. ุงุฐูุฑ ุฎุทูุงุช ุฅุนุงุฏุฉ ุฅูุชุงุฌ ุงููุดููุฉ

### ุงูุงุชุตุงู
- **GitHub Issues:** https://github.com/Ali5829511/517/issues
- **Email:** housing@imamu.edu.sa

---

## ๐ ุงูููุงุญุธุงุช

- ูุฐุง ูุดุฑูุน ุชุนูููู/ุฅูุชุงุฌู ูุฌุงูุนุฉ ุงูุฅูุงู
- ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุนููุฉ ููุชุทููุฑ
- ูู ุงูุฅูุชุงุฌุ ุงุณุชุฎุฏู ุจูุงูุงุช ุญููููุฉ
- ุญุงูุธ ุนูู ูุณุฎ ุงุญุชูุงุทูุฉ ุฏูุฑูุฉ

---

**ุฌุงูุนุฉ ุงูุฅูุงู ูุญูุฏ ุจู ุณุนูุฏ ุงูุฅุณูุงููุฉ**  
**ูุธุงู ุฅุฏุงุฑุฉ ุงูุฅุณูุงู ุงูุฌุงูุนู**  
**Development Guide v1.0**
